{% extends 'base.html.twig' %}

{% block body %}
<div class="columns is-mobile is-centered">
	<div class="card is-parent has-text-centered">
	  <header class="card-header">
	    <p class="card-header-title">
	      Mesero(a) - {{ app.user.name ~ ' ' ~ app.user.firstLastName }}
	    </p>
	    <a class="card-header-icon" href="{{ path('fos_user_security_logout') }}">
	      <span class="icon">
	        <i class="fa fa-power-off"></i>
	      </span>
	    </a>
	  </header>
      <section style="margin-top: 20px; margin-bottom: 20px;">
	    <button v-show="!isOpenAccount" type="button" class="button is-primary" @click="openAccount">
		  <span class="icon is-normal">
		    <i class="fa fa-check-circle-o"></i>
		  </span>
		  <span>Abrir Cuenta</span>
		</button>
		<button v-show="isOpenAccount" type="button" class="button is-primary" @click="closeAccount">
		  <span class="icon is-normal">
		    <i class="fa fa-window-close-o"></i>
		  </span>
		  <span>Cerrar Cuenta</span>
		</button>
	  </section>
      <div v-show="isOpenAccount" class="card-content">
		<p class="title">Folio #${ $store.state.lastNumberNote }</p>
		<form @submit.prevent="createNote">
		  <product-list></product-list>
		  <product-form></product-form>
		  <div class="field is-grouped" style="margin-top: 20px;">
		    <div class="control">
			  <button type="submit" class="button is-primary">
                <span class="icon is-normal">
                  <i class="fa fa-save"></i>
				</span>
				<span>Registrar Comanda</span>
			  </button>
			</div>
			<div class="control">
              <button class="button" @click.prevent="cleanForm">
                <span class="icon is-normal">
                  <i class="fa fa-remove"></i>
				</span>
                <span>Cancelar</span>
			  </button>
			</div>
		  </div>
		</form>
	  </div>
	</div>
</div>
{% endblock %}